webpackJsonp([41],{"CT/+":function(_,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s("cOnB"),u={render:function(){var _=this.$createElement;return(this._self._c||_)("router-view")},staticRenderFns:[]};var a=function(_){s("jVku")},t=s("C7Lr")(r.a,u,!1,a,null,null);e.default=t.exports},cOnB:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__=__webpack_require__("4YfN"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__),__WEBPACK_IMPORTED_MODULE_1_vue__=__webpack_require__("+VlJ"),__WEBPACK_IMPORTED_MODULE_2_element_ui__=__webpack_require__("DVuL"),__WEBPACK_IMPORTED_MODULE_2_element_ui___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_element_ui__),__WEBPACK_IMPORTED_MODULE_3_element_ui_lib_theme_chalk_index_css__=__webpack_require__("LicG"),__WEBPACK_IMPORTED_MODULE_3_element_ui_lib_theme_chalk_index_css___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_element_ui_lib_theme_chalk_index_css__),__WEBPACK_IMPORTED_MODULE_4_weview__=__webpack_require__("iaNP"),__WEBPACK_IMPORTED_MODULE_4_weview___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_weview__),__WEBPACK_IMPORTED_MODULE_5_weview_lib_theme_chalk_index_css__=__webpack_require__("+8ML"),__WEBPACK_IMPORTED_MODULE_5_weview_lib_theme_chalk_index_css___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_weview_lib_theme_chalk_index_css__),__WEBPACK_IMPORTED_MODULE_6_wetools__=__webpack_require__("hYam"),__WEBPACK_IMPORTED_MODULE_6_wetools___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_wetools__),__WEBPACK_IMPORTED_MODULE_7__static_gar_css_default_default_css__=__webpack_require__("zxPc"),__WEBPACK_IMPORTED_MODULE_7__static_gar_css_default_default_css___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7__static_gar_css_default_default_css__),__WEBPACK_IMPORTED_MODULE_8__static_gar_font_iconfont_css__=__webpack_require__("QQqv"),__WEBPACK_IMPORTED_MODULE_8__static_gar_font_iconfont_css___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8__static_gar_font_iconfont_css__),__WEBPACK_IMPORTED_MODULE_9__mixins_gar_js__=__webpack_require__("42hA"),__WEBPACK_IMPORTED_MODULE_10_vuex__=__webpack_require__("HVJf"),__WEBPACK_IMPORTED_MODULE_11__vuex_modules_frame_store_js__=__webpack_require__("+nXc"),EventEmitter=__webpack_require__("HBrH");window.events=new EventEmitter,window.events.setMaxListeners(100),__WEBPACK_IMPORTED_MODULE_1_vue__.default.use(__WEBPACK_IMPORTED_MODULE_2_element_ui___default.a),__WEBPACK_IMPORTED_MODULE_1_vue__.default.use(__WEBPACK_IMPORTED_MODULE_4_weview___default.a);var GlobalMessage=new __WEBPACK_IMPORTED_MODULE_6_wetools__.Message.WeView;__WEBPACK_IMPORTED_MODULE_1_vue__.default.use(__WEBPACK_IMPORTED_MODULE_6_wetools___default.a,{Ajax:{options:{baseURL:__webpack_require__("vtw5").getBaseUrl(),withCredentials:!0,dataParserOptions:{use:__WEBPACK_IMPORTED_MODULE_6_wetools__.DataParser.DataView,options:{needLoginOptions:{callback:function(_,e){window.events.emit("show-login-window",{data:_,res:e}),GlobalMessage.open(_.resultInfo.message)}},noAuthorityOptions:{callback:function(_,e){GlobalMessage.open(_.resultInfo.message)}},notFoundOptions:{callback:function(_,e){GlobalMessage.open(_.resultInfo.message)}}}}}}}),__webpack_exports__.a={name:"Frame",mixins:[__WEBPACK_IMPORTED_MODULE_9__mixins_gar_js__.a],computed:__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({},Object(__WEBPACK_IMPORTED_MODULE_10_vuex__.c)(["frameModule"])),methods:{loginSuccess:function loginSuccess(_ref){var username=_ref.username,roles=_ref.roles;if(this.$store.dispatch("setLogin",{username:username}),roles&&0!==roles.length){if(1===roles.length)this.$store.dispatch("setPrimaryRoleAndRoles",{primaryRole:new __WEBPACK_IMPORTED_MODULE_11__vuex_modules_frame_store_js__.b(roles[0]),roles:roles.map(function(_){return new __WEBPACK_IMPORTED_MODULE_11__vuex_modules_frame_store_js__.b(_)})});else if(roles.length>1){var primaryRole=localStorage.getItem("vue-gar-primaryRole");this.$store.dispatch("setPrimaryRoleAndRoles",{primaryRole:primaryRole?new __WEBPACK_IMPORTED_MODULE_11__vuex_modules_frame_store_js__.b(eval("("+primaryRole+")")):void 0,roles:roles.map(function(_){return new __WEBPACK_IMPORTED_MODULE_11__vuex_modules_frame_store_js__.b(_)})})}}else this.$store.dispatch("setPrimaryRoleAndRoles",{primaryRole:void 0,roles:[]})}},created:function(){var _=this;this.getOnline({successCallback:function(e){return _.loginSuccess({username:e.records.user.username,roles:e.records.roles})}}),window.events.on("login-success",function(){_.getOnline({successCallback:function(e){return _.loginSuccess({username:e.records.user.username,roles:e.records.roles})}}),_.getRouteTreeBySubModuleValue({moduleId:_.frameModule.moduleId,subModuleValue:_.frameModule.subModuleValue,successCallback:function(e){_.$store.dispatch("setRouteRows",{rows:e.rows})}}),_.getMenuTreeBySubModuleValueMenuGroupType({moduleId:_.frameModule.moduleId,subModuleValue:_.frameModule.subModuleValue,menuGroupType:"HEADER_MENU",successCallback:function(e){_.$store.dispatch("setHeaderMenuRows",{rows:e.rows})}}),_.getMenuTreeBySubModuleValueMenuGroupType({moduleId:_.frameModule.moduleId,subModuleValue:_.frameModule.subModuleValue,menuGroupType:"LEFT_MENU",successCallback:function(e){_.$store.dispatch("setLeftMenuRows",{rows:e.rows})}})})}}},jVku:function(_,e){}});