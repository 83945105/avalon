webpackJsonp([38],{"+6Em":function(e,t){e.exports=[]},Fvzy:function(e,t){e.exports=[]},MH3W:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("3cXf"),n=a.n(o),i=a("4YfN"),s=a.n(i),r=a("42hA"),l=a("pnBm"),c=[{element:".first-element-introduction",popover:{title:"项目名称",description:"这是我们项目的名称",position:"bottom"}},{element:".second-element-introduction",popover:{title:"左侧菜单",description:"鼠标悬浮到这里可以打开菜单",position:"right"}},{element:".third-element-introduction",popover:{title:"头部菜单",description:"你可以在这里使用一些特殊功能",position:"bottom"}},{element:".last-element-introduction",popover:{title:"再次查看",description:"点击这里可以再次查看本教程",position:"left"}}],u=a("Fvzy"),d=a.n(u),m=a("+6Em"),f=a.n(m),h=a("HVJf"),v=a("NDkD"),p=a("4X+h"),b=a("crN1"),M=a("74wm"),w=a("M1g9"),g=a("C6mD"),y={name:"layout",components:{LoginWindow:w.a,SwitchPrimaryRoleWindow:M.a,HeaderMenu:b.a,LeftMenu:p.a,TabMode:v.a},mixins:[r.a,l.a],data:function(){return{collapseLeftMenu:!0,tabName:"",tabData:[],menuWidth:200,showLogin:!1}},computed:s()({},Object(h.c)(["frameModule","layoutModule"]),Object(h.b)({serverHeaderMenuData:"getHeaderMenuData",serverLeftMenuData:"getLeftMenuData"}),{headerMenuData:function(){return d.a.concat(this.serverHeaderMenuData)},leftMenuData:function(){return f.a.concat(this.serverLeftMenuData)}}),watch:{headerMenuData:function(e){this.tabData=this.caseMenuDataToTabData(e.concat(this.leftMenuData)),this.tabName=this.$route.name},leftMenuData:function(e){this.tabData=this.caseMenuDataToTabData(this.headerMenuData.concat(e)),this.tabName=this.$route.name}},methods:{caseMenuDataToTabData:function(e){if(!e||0===e.length)return[];var t=[];for(var a in e)Object(g.b)(e[a].children)&&e[a].children.length>0?t=t.concat(this.caseMenuDataToTabData(e[a].children)):t.push(e[a]);return t},handleSelectedPrimaryRole:function(e){var t=e.primaryRole,a=(e.index,e.roles);localStorage.setItem("vue-gar-primaryRole",n()(t)),this.$store.dispatch("setPrimaryRoleAndRoles",{primaryRole:t,roles:a})},handleClickHeaderItem:function(e){this.pageToRouter(e.pageName)},handleSelectedMenuItem:function(e){var t=e.row;e.$index;if(!t.routeValues.includes(this.$route.name)){var a=this.$refs.TabMode;a&&a.addTabData(t),t.clickToRouteValue&&(this.tabName=t.clickToRouteValue,this.$router.push({name:t.clickToRouteValue}))}},windowResizeListener:function(e){this.$store.dispatch("initWindowWidthAsync",e),this.$store.dispatch("initWindowHeightAsync",e)},handleClickLogin:function(e){window.events.emit("show-login-window")},handleClickLogout:function(e){var t=this;this.getLogout({successCallback:function(){t.$store.dispatch("setLogout"),window.events.emit("show-login-window")}})}},created:function(){},mounted:function(){!1===this.layoutModule.isDriverRead&&this.$store.dispatch("startDriver",c)},beforeDestroy:function(){window.removeEventListener("resize",this.windowResizeListener)}},_={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"black-layout-header"},[o("div",{staticClass:"black-layout-menu-btn",on:{click:function(t){t.stopPropagation(),e.collapseLeftMenu=!e.collapseLeftMenu}}},[o("we-icon",{attrs:{name:"menu"}})],1),e._v(" "),e._m(0),e._v(" "),o("div",{staticClass:"black-layout-header-system"},[o("div",{staticClass:"black-layout-header-system-nav third-element-introduction"},[o("header-menu",{attrs:{value:e.$route.name,data:e.headerMenuData,width:400,"text-color":"#ffffff","background-color":"#333333","active-text-color":"#2199ed","active-background-color":"#151515","selected-text-color":"#ffffff","selected-background-color":"#151515","hover-text-color":"#ffffff","hover-background-color":"#151515"},on:{"selected-menu-item":e.handleSelectedMenuItem}})],1),e._v(" "),e.frameModule.isLogin?o("div",{staticClass:"black-layout-header-system-user"},[o("we-menu",{attrs:{value:!0,mode:"horizontal","sub-menu-trigger":"hover","text-color":"#ffffff","background-color":"transparent","active-text-color":"#2199ed","active-background-color":"#151515","selected-text-color":"#ffffff","selected-background-color":"#151515","hover-text-color":"#ffffff","hover-background-color":"transparent",width:220}},[o("we-menu-item",{attrs:{icon:!1,"icon-name":"edit"}},[o("template",{slot:"content"},[o("img",{staticClass:"user-face common-radius-all",attrs:{src:a("Mvm9")}}),e._v(" "),o("div",{staticClass:"user-name"},[e._v(e._s(e.frameModule.username))]),e._v(" "),o("div",{staticClass:"common-clear"})]),e._v(" "),o("we-menu",{attrs:{slot:"subMenu","sub-menu-horizontal-offset":-60,width:220,subMenuMode:"open",accordion:!1,placement:"bottom-start"},slot:"subMenu"},[o("we-menu-item",[o("template",{slot:"panel"},[o("div",{staticClass:"black-layout-header-system-user-menu"},[o("div",{staticClass:"user-menu-content"},[o("img",{staticClass:"user-menu-content-face common-radius-all",attrs:{src:a("Mvm9")}}),e._v(" "),o("div",{staticClass:"user-menu-content-info"},[o("h3",{staticClass:"user-info-name"},[e._v(e._s(e.frameModule.username)+"（"+e._s(e.frameModule.primaryRole&&e.frameModule.primaryRole.name)+"）")]),e._v(" "),o("div",{staticClass:"user-info-shop"})]),e._v(" "),o("div",{staticClass:"common-clear"})]),e._v(" "),o("ul",{staticClass:"user-menu-list"},[o("li",[e._v("基本资料")]),e._v(" "),o("li",[e._v("修改密码")]),e._v(" "),o("li",[e._v("切换账号")]),e._v(" "),e.frameModule.roles.length>1?o("li",{on:{click:function(t){e.frameModule.showSwitchPrimaryRole=!0}}},[e._v("切换角色\n                      ")]):e._e(),e._v(" "),o("li",[e._v("系统设置")])]),e._v(" "),o("div",{staticClass:"user-menu-sign-out",on:{click:e.handleClickLogout}},[e._v("安全退出平台")])])])],2)],1)],2)],1)],1):o("div",{staticClass:"black-layout-header-login-button",on:{click:function(t){e.showLogin=!0}}},[e._v("点我登录")]),e._v(" "),o("div",{staticClass:"common-clra"})])]),e._v(" "),o("div",{staticClass:"black-layout-left",class:{"is-overflow":!e.collapseLeftMenu}},[o("left-menu",{attrs:{value:e.$route.name,data:e.leftMenuData,collapse:e.collapseLeftMenu,width:200,"text-color":"#cccccc","background-color":"#252525","active-text-color":"#ffffff","active-background-color":"#151515","selected-text-color":"#ffffff","selected-background-color":"#2199ed","hover-text-color":"#2199ed","hover-background-color":"#151515"},on:{"selected-menu-item":e.handleSelectedMenuItem}})],1),e._v(" "),o("div",{staticClass:"black-layout-right yl-layout-right",style:{left:e.collapseLeftMenu?"50px":e.menuWidth+"px"}},["tab"===e.layoutModule.pageMode?o("tab-mode",{ref:"TabMode",attrs:{data:e.tabData},on:{"tab-click":function(t){t.$index;var a=t.name,o=t.data;return e.$router.push({name:o.clickToRouteValue||a})}}}):o("router-view")],1),e._v(" "),o("login-window",{model:{value:e.showLogin,callback:function(t){e.showLogin=t},expression:"showLogin"}}),e._v(" "),o("switch-primary-role-window",{attrs:{roles:e.frameModule.roles,"primary-role":e.frameModule.primaryRole},on:{"selected-role":e.handleSelectedPrimaryRole},model:{value:e.frameModule.showSwitchPrimaryRole,callback:function(t){e.$set(e.frameModule,"showSwitchPrimaryRole",t)},expression:"frameModule.showSwitchPrimaryRole"}})],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"black-layout-header-logo"},[t("img",{staticClass:"system-logo",attrs:{src:a("LCIz")}}),this._v(" "),t("h3",{staticClass:"system-title first-element-introduction"},[this._v("恒大电商平台")])])}]},k=a("C7Lr")(y,_,!1,null,null,null);t.default=k.exports}});