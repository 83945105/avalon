webpackJsonp([14,35,36],{"+hZp":function(e,t,a){e.exports=a.p+"gar/img/no_authority_img.85ebcdd.png"},"29J1":function(e,t,a){e.exports=a.p+"gar/img/no_data_img.869b577.png"},"3TTE":function(e,t,a){"use strict";t.a={data:function(){return{treeAsyncProps:{label:"name",isLeaf:"leaf",children:"children",disabled:"disabled"},treeAsyncNodeKey:"id",treeAsyncRef:"treeAsync",treeAsyncSkeleton:!0,treeAsyncLoading:!1,treeAsyncRows:[],treeAsyncNodeDeleteLoading$:"delete_loading$",treeAsyncShowAdd:!1,treeAsyncAddLoading:!1,treeAsyncShowEdit:!1,treeAsyncEditLoading:!1,treeAsyncSelectedNode:{},treeAsyncSelectedNodeData:{},treeAsyncAutoExpandKeys:[]}},methods:{formatterTreeAsyncRow:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.formatterRow,o=t.formatterNodeIsLeaf,r=t.formatterNodeChildren;return e[this.treeAsyncNodeDeleteLoading$]=!1,a&&a(e),e[this.treeAsyncProps.isLeaf]=!o||o(e),e[this.treeAsyncProps.children]=r?r(e):[],e},formatterTreeAsyncRows:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=a.formatterRow,r=a.formatterNodeIsLeaf;return e.forEach(function(e){return t.formatterTreeAsyncRow(e,{formatterRow:o,formatterNodeIsLeaf:r})}),e},findRow:function(e,t){if(e&&0!==e.length&&t){var a=void 0;for(var o in e){if(""+e[o][this.treeAsyncNodeKey]==""+t)return e[o];if(a=this.findRow(e[o][this.treeAsyncProps.children],t))return a}}},isTreeAsyncRowHasChildren:function(e){return e[this.treeAsyncProps.children]&&e[this.treeAsyncProps.children].length>0},setTreeAsyncRowChildren:function(e,t){t&&(e[this.treeAsyncProps.children]=t)},addTreeAsyncRowChild:function(e,t){t&&(e[this.treeAsyncProps.children]||this.$set(e,this.treeAsyncProps.children,[]),e[this.treeAsyncProps.children].push(t))},expandTreeNodeByKeys:function(e){var t=e.key;this.$refs[this.treeAsyncRef].store.nodesMap[t].expand()}}}},BLcK:function(e,t,a){"use strict";var o=a("Nj3f"),r={get:{validateValueCanUse:o.a+"/api-gar-sub-module/get/validateValueCanUse/{value}",subModuleBySubModuleId:o.a+"/api-gar-sub-module/get/subModuleBySubModuleId/{subModuleId}",listSubModule:o.a+"/api-gar-sub-module/get/list/subModule",pageListSubModule:o.a+"/api-gar-sub-module/get/pageList/subModule",listSubModuleAndSubModuleRouteCount:o.a+"/api-gar-sub-module/get/list/subModuleAndSubModuleRouteCount",listSubModuleAndSubModuleMenuGroupCount:o.a+"/api-gar-sub-module/get/list/subModuleAndSubModuleMenuGroupCount"},post:{subModule:o.a+"/api-gar-sub-module/post/subModule"},put:{subModuleBySubModuleId:o.a+"/api-gar-sub-module/put/subModuleBySubModuleId/{subModuleId}",switchSubModuleIndexBySubModuleId:o.a+"/api-gar-sub-module/put/switchSubModuleIndexBySubModuleId/{sourceSubModuleId}/{targetSubModuleId}"},delete:{subModuleBySubModuleId:o.a+"/api-gar-sub-module/delete/subModuleBySubModuleId/{subModuleId}",listSubModuleBySubModuleIds:o.a+"/api-gar-sub-module/delete/list/subModuleBySubModuleIds/{subModuleIds}"}};t.a=r},Kgiw:function(e,t,a){e.exports=a.p+"gar/img/no_page_img.cccfdce.png"},"L+/9":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("qSEq"),r=a("pnBm"),s=a("3TTE"),n=a("elhn"),i=a("ELdc"),l=a("BLcK"),u=a("GV6u"),d=a("cSSL"),c={likeText:""},m={name:"route-tree",components:{RouteEdit:a("rRkE").default,RouteAdd:d.default,ErrorPage:n.a},mixins:[o.b,r.a,s.a],props:{moduleId:{type:String,required:!0}},data:function(){return{params:Object(i.a)({},c),treeAsyncProps:{label:"name",isLeaf:"leaf",children:"children",disabled:"disabled"},treeAsyncNodeKey:"id",selectedSubModuleId:"",selectedRouteId:""}},methods:{remove:function(e){this.$refs[this.treeAsyncRef].remove(e)},append:function(e,t){if(t){e=this.formatterTreeAsyncRow(e,{formatterRow:function(e){e.expanded=!1,e.dataType="Route"},formatterNodeIsLeaf:function(e){return 0===e.childCount}});var a=this.$refs[this.treeAsyncRef];a.append(e,a.getNode(t))}},insertAfterRoot:function(e){e=this.formatterTreeAsyncRow(e,{formatterRow:function(e){e.expanded=!1,e.dataType="Route"},formatterNodeIsLeaf:function(e){return 0===e.childCount}});var t=this.$refs[this.treeAsyncRef];t.insertAfter(e,t.getNode(this.treeAsyncRows[this.treeAsyncRows.length-1]))},getCheckedNodes:function(e,t){return this.$refs[this.treeAsyncRef].getCheckedNodes(e,t)},getCheckedKeys:function(e){return this.$refs[this.treeAsyncRef].getCheckedKeys(e)},getTreeAsyncRows:function(){var e=this;this.$emit("check",{},{checkedNodes:[],checkedKeys:[],halfCheckedKeys:[],halfCheckedNodes:[]},this),this.treeAsyncLoading=!0;var t=Object(i.a)({moduleId:this.moduleId},this.params);this.queryParams&&Object(i.a)(t,this.queryParams),this.$Ajax.get(l.a.get.listSubModuleAndSubModuleRouteCount,t).success(!0,function(t){e.treeAsyncSkeleton=!1,e.$nextTick(function(){e.treeAsyncRows=e.formatterTreeAsyncRows(t.rows,{formatterRow:function(e){e.expanded=!1,e.dataType="SubModule"},formatterNodeIsLeaf:function(e){return 0===e.routeCount}})})}).notSuccess(function(){return e.treeAsyncSkeleton=500}).catch(function(){return e.treeAsyncSkeleton=500}).finally(function(){return e.treeAsyncLoading=!1})},getTreeAsyncNodes:function(e,t){var a=this,o={moduleId:this.moduleId};if(this.queryChildParams&&Object(i.a)(o,this.queryChildParams),e.level>=1){var r=1===e.level?u.a.get.listRootRouteBySubModuleId:u.a.get.listRouteByParentId;this.$Ajax.get(r,[e.data.id],{params:o}).success(!0,function(o){e.data.expanded=!0;var r=a.formatterTreeAsyncRows(o.rows,{formatterRow:function(e){e.expanded=!1,e.dataType="Route"},formatterNodeIsLeaf:function(e){return 0===e.childCount&&(!e.routeViews||0===e.routeViews.length)}});if(e.data.routeViews&&e.data.routeViews.length>0)for(var s=e.data.routeViews.length-1;s>=0;s--)e.data.routeViews[s][a.treeAsyncProps.isLeaf]=!0,e.data.routeViews[s].dataType="RouteView",r.unshift(e.data.routeViews[s]);t(r)})}},handleRouteAddSuccess:function(e,t){var a=this.formatterTreeAsyncRow(e,{formatterRow:function(e){e.expanded=!1,e.dataType="Route"},formatterNodeIsLeaf:function(e){return 0===e.childCount&&(!e.routeViews||0===e.routeViews.length)}});this.append(a,a.parentId?a.parentId:a.subModuleId)},handleRouteEditSuccess:function(e,t){Object(i.a)(this.treeAsyncSelectedNodeData,e),this.treeAsyncSelectedNodeData.expanded},handleDeleteRow:function(e,t,a){var o=this,r=a.row;r[this.treeAsyncNodeDeleteLoading$]=!0,this.$Ajax.delete(u.a.delete.routeByRouteId,{moduleId:this.moduleId,routeId:r.id}).before(function(){return r[o.treeAsyncNodeDeleteLoading$]=!1}).success("删除成功",function(){o.remove(r),t.close()})},handleDblClickTreeAsyncNode:function(e){var t=e.node;e.data;t.expanded?t.collapse():t.expand()},handleSelectedTreeNode:function(e,t){"RouteView"===e.dataType?this.routerToRouteTreeRoleTemplate({moduleId:this.moduleId,routeViewId:e.id}):this.routerToRouteTree({moduleId:this.moduleId})}},created:function(){this.getTreeAsyncRows()}},f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("el-input",{staticClass:"common-wp-75 common-float-left",attrs:{size:"small",placeholder:"请输入关键字",clearable:""},model:{value:e.params.likeText,callback:function(t){e.$set(e.params,"likeText",t)},expression:"params.likeText"}}),e._v(" "),a("we-button",{staticClass:"common-float-left",staticStyle:{width:"24%","margin-left":"1%"},attrs:{loading:e.treeAsyncLoading,size:"small"},on:{click:e.getTreeAsyncRows}},[e._v("查询\n    ")]),e._v(" "),a("div",{staticClass:"common-clear"})],1),e._v(" "),a("div",{staticClass:"gar-layout-custom common-padding-all-small common-scroll-v",staticStyle:{top:"42px"}},[a("we-skeleton",{attrs:{animation:"","paragraph-rows":8},on:{reload:e.getTreeAsyncRows},model:{value:e.treeAsyncSkeleton,callback:function(t){e.treeAsyncSkeleton=t},expression:"treeAsyncSkeleton"}},[a("el-tree",{ref:e.treeAsyncRef,staticClass:"common-margin-t-small",attrs:{data:e.treeAsyncRows,props:e.treeAsyncProps,"node-key":e.treeAsyncNodeKey,lazy:!0,load:e.getTreeAsyncNodes,"expand-on-click-node":!1,"check-strictly":!0,"empty-text":"暂无路由数据","highlight-current":""},on:{"current-change":e.handleSelectedTreeNode},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.node,r=t.data;return a("span",{staticClass:"custom-tree-node"},["RouteView"===r.dataType?[a("span",{staticClass:"tree-node-left"},[a("we-icon",{attrs:{name:"gar-view"}}),e._v("\n          "+e._s(o.label)+"\n        ")],1)]:[a("span",{staticClass:"tree-node-left",on:{dblclick:function(t){e.handleDblClickTreeAsyncNode({node:o,data:r})}}},["SubModule"===r.dataType?a("we-icon",{attrs:{name:"gar-sub-module"}}):e._e(),e._v(" "),"Route"===r.dataType?a("we-icon",{attrs:{name:"gar-route"}}):e._e(),e._v("\n          "+e._s(o.label)+"\n        ")],1)],e._v(" "),a("span",{staticClass:"tree-node-right"},["Route"===r.dataType?[a("el-popover",{attrs:{placement:"right",title:"查看",width:"300",trigger:"click"}},[a("ul",{staticClass:"gar-form-view label-width-5"},[a("li",[a("em",{staticClass:"view-left"},[e._v("子模块名称：")]),e._v(" "),a("div",{staticClass:"view-right"},[e._v(e._s(r.subModuleName))])]),e._v(" "),a("li",[a("em",{staticClass:"view-left"},[e._v("路由名称：")]),e._v(" "),a("div",{staticClass:"view-right"},[e._v(e._s(r.name))])]),e._v(" "),a("li",[a("em",{staticClass:"view-left"},[e._v("路由地址：")]),e._v(" "),a("div",{staticClass:"view-right"},[e._v(e._s(r.path))])])]),e._v(" "),a("we-button",{attrs:{slot:"reference",type:"text",size:"small",iconName:"search-o"},slot:"reference"})],1)]:e._e(),e._v(" "),"Route"===r.dataType||"SubModule"===r.dataType?[a("we-button",{staticStyle:{"margin-left":"6px"},attrs:{type:"text",size:"small",iconName:"plus"},on:{click:function(){e.selectedRouteId="Route"===r.dataType?r.id:"",e.selectedSubModuleId="Route"===r.dataType?r.subModuleId:r.id,e.treeAsyncShowAdd=!0}}})]:e._e(),e._v(" "),"Route"===r.dataType?[a("we-button",{staticStyle:{"margin-left":"6px"},attrs:{type:"text",size:"small",iconName:"edit"},on:{click:function(){e.treeAsyncSelectedNode=o,e.treeAsyncSelectedNodeData=r,e.selectedRouteId="Route"===r.dataType?r.id:"",e.selectedSubModuleId="Route"===r.dataType?r.subModuleId:r.id,e.treeAsyncShowEdit=!0}}}),e._v(" "),a("we-popover",{attrs:{title:"操作",type:"confirm",placement:"right",manual:r[e.treeAsyncNodeDeleteLoading$],"confirm-button-text":"删了吧","cancel-button-text":r[e.treeAsyncNodeDeleteLoading$]?"你没有想的机会了":"我再想想","cancel-button-options":{disabled:r[e.treeAsyncNodeDeleteLoading$]},"confirm-button-options":{loading:r[e.treeAsyncNodeDeleteLoading$]}},on:{"click-cancel-button":function(e,t){return t.close()},"click-confirm-button":function(t,a){return e.handleDeleteRow(t,a,{row:r})}}},[a("template",{slot:"content"},[r[e.treeAsyncNodeDeleteLoading$]?[a("span",{staticStyle:{color:"red"}},[e._v("删除中...")]),e._v("删除完成后将自动关闭气泡\n                  ")]:[e._v("\n                    您确定要"),a("span",{staticStyle:{color:"red"}},[e._v("删除")]),e._v("该路由"),a("span",{staticStyle:{color:"red"}},[e._v("及相关数据")]),e._v("吗？\n                    "),a("div",{staticStyle:{color:"red"}},[e._v("删除后不可恢复！！！")])]],2),e._v(" "),a("we-button",{staticStyle:{"margin-left":"6px"},attrs:{type:"text",size:"small",iconName:"trash"}})],2)]:e._e()],2)],2)}}])})],1)],1),e._v(" "),a("we-layer",{attrs:{title:"新增路由",width:50,height:80,"min-width":500,"show-footer":!1,drag:"",resize:""},model:{value:e.treeAsyncShowAdd,callback:function(t){e.treeAsyncShowAdd=t},expression:"treeAsyncShowAdd"}},[a("route-add",{attrs:{"module-id":e.moduleId,"sub-module-id":e.selectedSubModuleId,"parent-route-id":e.selectedRouteId},on:{"submit-success":e.handleRouteAddSuccess}},[a("template",{slot:"button"},[a("el-button",{on:{click:function(t){e.treeAsyncShowAdd=!1}}},[e._v("关闭")])],1)],2)],1),e._v(" "),a("we-layer",{attrs:{title:"编辑路由",width:50,height:80,"min-width":500,"show-footer":!1,drag:"",resize:""},model:{value:e.treeAsyncShowEdit,callback:function(t){e.treeAsyncShowEdit=t},expression:"treeAsyncShowEdit"}},[a("div",{staticClass:"common-padding-all",staticStyle:{"padding-bottom":"0"}},[a("route-edit",{attrs:{"module-id":e.moduleId,"sub-module-id":e.selectedSubModuleId,data:e.treeAsyncSelectedNodeData},on:{"submit-success":e.handleRouteEditSuccess}},[a("template",{slot:"button"},[a("el-button",{on:{click:function(t){e.treeAsyncShowEdit=!1}}},[e._v("关闭")])],1)],2)],1)])],1)},staticRenderFns:[]},p=a("C7Lr")(m,f,!1,null,null,null);t.default=p.exports},alcQ:function(e,t,a){"use strict";t.a={data:function(){return{formRefValue$:"form",formLoading:!1}},methods:{resetForm:function(){this.$refs[this.formRefValue$].resetFields()}}}},cSSL:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("3cXf"),r=a.n(o),s=a("qSEq"),n=a("alcQ"),i=a("ELdc"),l=a("GV6u"),u=s.b.data(),d={name:"",value:"",path:"",alias:"",description:"",status:""},c=[{value:"default",props:"false"}],m={name:"route-add",componentName:"RouteAdd",mixins:[s.b,n.a],props:{moduleId:{type:String,required:!0},subModuleId:{type:String,required:!0},parentRouteId:{type:String,required:!0}},data:function(){var e=this;return{parentRoute:{},routeViews:Object(i.a)([],c),formData:Object(i.a)({},d,{status:u.dict.statusValue.NORMAL}),formRules:{name:[{required:!0,message:"请输入路由名称",trigger:"blur"},{min:1,max:64,message:"长度在 1 到 64 个字符",trigger:"blur"}],value:[{required:!0,message:"请输入路由唯一标识符",trigger:"blur"},{min:1,max:64,message:"长度在 1 到 64 个字符",trigger:"blur"},{validator:function(t,a,o){/^[a-zA-Z0-9_]+$/.test(a)?e.$Ajax.get(l.a.get.validateValueCanUseBySubModuleId,[a,e.subModuleId],{params:{moduleId:e.moduleId}}).success(!0,function(e){e.records.canUse?o():o(new Error("路由唯一标识符不可用"))}).fail(!0,function(e){o(new Error(e.resultInfo.message))}).catch(function(){o(new Error("发生错误...请稍后再试"))}):o(new Error("路由唯一标识符格式不正确,只能由字母、数字、下划线组成"))},trigger:"blur"}],path:[{required:!0,message:"请输入路由地址",trigger:"blur"},{min:1,max:64,message:"长度在 1 到 64 个字符",trigger:"blur"},{validator:function(t,a,o){e.$Ajax.get(l.a.get.validatePathCanUseBySubModuleId,[e.subModuleId],{params:{moduleId:e.moduleId,path:a}}).success(!0,function(e){e.records.canUse?o():o(new Error("路由地址不可用"))}).fail(!0,function(e){o(new Error(e.resultInfo.message))}).catch(function(){o(new Error("发生错误...请稍后再试"))})},trigger:"blur"}],alias:[{min:1,max:64,message:"长度在 1 到 64 个字符",trigger:"blur"},{validator:function(t,a,o){a?e.$Ajax.get(l.a.get.validateAliasCanUseBySubModuleId,[a,e.subModuleId],{params:{moduleId:e.moduleId}}).success(!0,function(e){e.records.canUse?o():o(new Error("路由重定向别名不可用"))}).fail(!0,function(e){o(new Error(e.resultInfo.message))}).catch(function(){o(new Error("发生错误...请稍后再试"))}):o()},trigger:"blur"}]}}},watch:{parentRouteId:function(e){this.getRow()}},methods:{getRow:function(){var e=this;this.parentRouteId&&this.$Ajax.get(l.a.get.routeByRouteId,[this.parentRouteId],{params:{moduleId:this.moduleId}}).success(!0,function(t){e.parentRoute=t.records.route})},submit:function(){var e=this;this.$refs[this.formRefValue$].validate(function(t){if(!t)return!1;for(var a in e.routeViews){if(!e.routeViews[a].value)return void e.$message("命名视图不能为空");for(var o in e.routeViews)if(e.routeViews[a]!==e.routeViews[o]&&e.routeViews[a].value===e.routeViews[o].value)return void e.$message("命名视图不能重复")}e.formLoading=!0,e.$Ajax.post(l.a.post.route,Object(i.a)({moduleId:e.moduleId,subModuleId:e.subModuleId,parentId:e.parentRouteId,routeViewJson:r()(e.routeViews)},e.formData)).success("新增路由成功",function(t){e.$emit("submit-success",t.records.route,e),e.routeViews=Object(i.a)([],c),e.resetForm()}).finally(function(){return e.formLoading=!1})})}},created:function(){this.getRow()}},f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"common-padding-all"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.formLoading,expression:"formLoading"}],ref:e.formRefValue$,attrs:{rules:e.formRules,model:e.formData,"label-width":"160px",size:"small"}},[e.parentRouteId?a("el-form-item",{attrs:{label:"父级路由名称："}},[a("el-input",{attrs:{disabled:"",clearable:""},model:{value:e.parentRoute.name,callback:function(t){e.$set(e.parentRoute,"name",t)},expression:"parentRoute.name"}})],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"路由名称：",prop:"name"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"路由唯一标识符：",prop:"value"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formData.value,callback:function(t){e.$set(e.formData,"value",t)},expression:"formData.value"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"路由地址：",prop:"path"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formData.path,callback:function(t){e.$set(e.formData,"path",t)},expression:"formData.path"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"重定向别名：",prop:"alias"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formData.alias,callback:function(t){e.$set(e.formData,"alias",t)},expression:"formData.alias"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"命名视图："}},[a("we-button",{attrs:{size:"small",type:"success"},on:{click:function(t){e.routeViews.push({value:"",props:"false"})}}},[e._v("新增视图")]),e._v(" "),e._l(e.routeViews,function(t,o){return[a("div",{staticClass:"gar-form-edit-one"},[a("div",{staticClass:"edit-one-left common-wp-70"},[a("el-input",{staticClass:"common-wp-55 common-float-left",attrs:{size:"small"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"routeView.value"}}),e._v(" "),a("el-checkbox",{staticClass:"common-float-left common-margin-lr-mini",attrs:{"true-label":e.dict.routeViewValue.true,"false-label":e.dict.routeViewValue.false,border:""},model:{value:t.props,callback:function(a){e.$set(t,"props",a)},expression:"routeView.props"}},[e._v("\n              启用props\n            ")]),e._v(" "),a("we-button",{directives:[{name:"show",rawName:"v-show",value:e.routeViews.length>1,expression:"routeViews.length > 1"}],staticClass:"common-float-left",attrs:{size:"small","icon-name":"trash",type:"danger"},on:{click:function(t){e.routeViews.splice(o,1)}}})],1),e._v(" "),a("div",{staticClass:"common-clear"})])]})],2),e._v(" "),a("el-form-item",{attrs:{label:"路由描述：",prop:"description"}},[a("el-input",{attrs:{type:"textarea",rows:10,resize:"none"},model:{value:e.formData.description,callback:function(t){e.$set(e.formData,"description",t)},expression:"formData.description"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{loading:e.formLoading,type:"primary"},on:{click:e.submit}},[e._v("立即创建")]),e._v(" "),a("el-button",{attrs:{disabled:e.formLoading},on:{click:e.resetForm}},[e._v("重置")]),e._v(" "),e._t("button")],2)],1)],1)},staticRenderFns:[]},p=a("C7Lr")(m,f,!1,null,null,null);t.default=p.exports},elhn:function(e,t,a){"use strict";var o={name:"error-page",componentName:"ErrorPage",optionName:"errorPage",props:{type:{type:[String,Number],default:"noData"},title:String,imageWidth:{type:Number,default:200},imageHeight:{type:Number,default:200}},computed:{__title__:function(){return this.title?this.title:403===this.type||"403"===this.type?"抱歉您无权查看此页面。":404===this.type||"404"===this.type?"抱歉，您访问的页面不存在。":500===this.type||"500"===this.type?"抱歉，您的网络有问题加载失败。":"抱歉暂无信息。"}}},r={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"global-no-data"},[e._t("default",[403===e.type||"403"===e.type?o("img",{staticClass:"global-no-data-picture",style:{height:e.imageHeight+"px",width:e.imageWidth+"px"},attrs:{src:a("+hZp")}}):404===e.type||"404"===e.type?o("img",{staticClass:"global-no-data-picture",style:{height:e.imageHeight+"px",width:e.imageWidth+"px"},attrs:{src:a("29J1")}}):500===e.type||"500"===e.type?o("img",{staticClass:"global-no-data-picture",style:{height:e.imageHeight+"px",width:e.imageWidth+"px"},attrs:{src:a("Kgiw")}}):o("img",{staticClass:"global-no-data-picture",style:{height:e.imageHeight+"px",width:e.imageWidth+"px"},attrs:{src:a("29J1")}})]),e._v(" "),o("div",{staticClass:"global-no-data-text",class:{"is-margin-top":0!==e.imageWidth&&0!==e.imageHeight}},[e._t("title",[o("span",[e._v(e._s(e.__title__))])])],2),e._v(" "),o("div",{staticClass:"global-no-data-button"},[e._t("footer")],2)],2)},staticRenderFns:[]},s=a("C7Lr")(o,r,!1,null,null,null);t.a=s.exports},rRkE:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("3cXf"),r=a.n(o),s=a("qSEq"),n=a("alcQ"),i=a("ELdc"),l=a("GV6u"),u={name:"route-edit",componentName:"RouteEdit",mixins:[s.b,n.a],props:{moduleId:{type:String,required:!0},subModuleId:{type:String,required:!0},data:{type:Object,default:function(){return{}}}},data:function(){var e=this;return{routeViews:[],formData:{},formRules:{name:[{required:!0,message:"请输入路由名称",trigger:"blur"},{min:1,max:64,message:"长度在 1 到 64 个字符",trigger:"blur"}],value:[{required:!0,message:"请输入路由唯一标识符",trigger:"blur"},{min:1,max:64,message:"长度在 1 到 64 个字符",trigger:"blur"},{validator:function(t,a,o){/^[a-zA-Z0-9_]+$/.test(a)?e.$Ajax.get(l.a.get.validateValueCanUseBySubModuleId,[a,e.subModuleId],{params:{moduleId:e.moduleId,excludeValues:e.data.value}}).success(!0,function(e){e.records.canUse?o():o(new Error("路由唯一标识符不可用"))}).fail(!0,function(e){o(new Error(e.resultInfo.message))}).catch(function(){o(new Error("发生错误...请稍后再试"))}):o(new Error("路由唯一标识符格式不正确,只能由字母、数字、下划线组成"))},trigger:"blur"}],path:[{required:!0,message:"请输入路由地址",trigger:"blur"},{min:1,max:64,message:"长度在 1 到 64 个字符",trigger:"blur"},{validator:function(t,a,o){e.$Ajax.get(l.a.get.validatePathCanUseBySubModuleId,[e.subModuleId],{params:{moduleId:e.moduleId,path:a,excludePaths:e.data.path}}).success(!0,function(e){e.records.canUse?o():o(new Error("路由地址不可用"))}).fail(!0,function(e){o(new Error(e.resultInfo.message))}).catch(function(){o(new Error("发生错误...请稍后再试"))})},trigger:"blur"}],alias:[{min:1,max:64,message:"长度在 1 到 64 个字符",trigger:"blur"},{validator:function(t,a,o){a?e.$Ajax.get(l.a.get.validateAliasCanUseBySubModuleId,[a,e.subModuleId],{params:{moduleId:e.moduleId,excludeAliases:e.data.alias}}).success(!0,function(e){e.records.canUse?o():o(new Error("路由重定向别名不可用"))}).fail(!0,function(e){o(new Error(e.resultInfo.message))}).catch(function(){o(new Error("发生错误...请稍后再试"))}):o()},trigger:"blur"}]}}},watch:{data:function(e){this.resetEditForm()}},methods:{resetEditForm:function(){this.formData=Object(i.a)({},this.data);var e=[];this.data.routeViews&&this.data.routeViews.forEach(function(t){e.push(Object(i.a)({},t))}),this.routeViews=e,this.formData.routeViews=e},submit:function(){var e=this;this.$refs[this.formRefValue$].validate(function(t){if(!t)return!1;for(var a in e.routeViews){if(!e.routeViews[a].value)return void e.$message("命名视图不能为空");for(var o in e.routeViews)if(e.routeViews[a]!==e.routeViews[o]&&e.routeViews[a].value===e.routeViews[o].value)return void e.$message("命名视图不能重复")}e.formLoading=!0,e.$Ajax.put(l.a.put.routeByRouteId,Object(i.a)({moduleId:e.moduleId,subModuleId:e.subModuleId,routeId:e.formData.id,routeViewJson:r()(e.routeViews)},e.formData)).success("修改路由成功",function(){e.$emit("submit-success",e.formData,e)}).finally(function(){return e.formLoading=!1})})}},created:function(){this.resetEditForm()}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"common-padding-all"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.formLoading,expression:"formLoading"}],ref:e.formRefValue$,attrs:{rules:e.formRules,model:e.formData,"label-width":"160px",size:"small"}},[e.formData.parentId?a("el-form-item",{attrs:{label:"父级路由名称："}},[a("el-input",{attrs:{disabled:"",clearable:""},model:{value:e.formData.parentRouteName,callback:function(t){e.$set(e.formData,"parentRouteName",t)},expression:"formData.parentRouteName"}})],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"路由名称：",prop:"name"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"路由唯一标识符：",prop:"value"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formData.value,callback:function(t){e.$set(e.formData,"value",t)},expression:"formData.value"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"路由地址：",prop:"path"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formData.path,callback:function(t){e.$set(e.formData,"path",t)},expression:"formData.path"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"重定向别名：",prop:"alias"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formData.alias,callback:function(t){e.$set(e.formData,"alias",t)},expression:"formData.alias"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"命名视图："}},[a("we-button",{attrs:{size:"small",type:"success"},on:{click:function(t){e.routeViews.push({value:"",props:!1})}}},[e._v("新增视图")]),e._v(" "),e._l(e.routeViews,function(t,o){return[a("div",{staticClass:"gar-form-edit-one"},[a("div",{staticClass:"edit-one-left common-wp-70"},[a("el-input",{staticClass:"common-wp-55 common-float-left",attrs:{size:"small"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"routeView.value"}}),e._v(" "),a("el-checkbox",{staticClass:"common-float-left common-margin-lr-mini",attrs:{"true-label":e.dict.routeViewValue.true,"false-label":e.dict.routeViewValue.false,border:""},model:{value:t.props,callback:function(a){e.$set(t,"props",a)},expression:"routeView.props"}},[e._v("\n              启用props\n            ")]),e._v(" "),a("we-button",{directives:[{name:"show",rawName:"v-show",value:e.routeViews.length>1,expression:"routeViews.length > 1"}],staticClass:"common-float-left",attrs:{size:"small","icon-name":"trash",type:"danger"},on:{click:function(t){e.routeViews.splice(o,1)}}})],1),e._v(" "),a("div",{staticClass:"common-clear"})])]})],2),e._v(" "),a("el-form-item",{attrs:{label:"路由描述：",prop:"description"}},[a("el-input",{attrs:{type:"textarea",rows:10,resize:"none"},model:{value:e.formData.description,callback:function(t){e.$set(e.formData,"description",t)},expression:"formData.description"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{loading:e.formLoading,type:"primary"},on:{click:e.submit}},[e._v("提交修改")]),e._v(" "),a("el-button",{attrs:{disabled:e.formLoading},on:{click:e.resetEditForm}},[e._v("重置")]),e._v(" "),e._t("button")],2)],1)],1)},staticRenderFns:[]},c=a("C7Lr")(u,d,!1,null,null,null);t.default=c.exports}});